(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();let L=null;async function j(e){const o=await(await fetch(e)).arrayBuffer();return await k.decodeAudioData(o)}const k=new(window.AudioContext||window.webkitAudioContext),B=k.createGain();B.connect(k.destination);let S=0;async function $(e){const t=await q();S++,x(S);const o=k.createBufferSource();o.buffer=t,o.playbackRate.value=e,o.connect(B),o.onended=()=>{S--,x(S)},o.start()}function x(e){e<=1?B.gain.value=.5:B.gain.value=.5/Math.sqrt(e)}async function q(){return L||(L=await j("/swapsound.mp3")),L}function V(){const e=document.createElement("div");return e.classList.add("bar"),e}async function c(e,t){let o=e.map(n=>n*100/e.length),s=document.getElementById("bar-container");s.innerHTML="";for(let n=0;n<o.length;n++){let i=V();if(i.style.height=o[n]+"%",i.style.width=100/o.length+"%",t&&t.includes(n)){i.style.background="linear-gradient(to top right, #ff6a00, #ff9143)";const l=e[n]/Math.max(...e)+.5;g&&$(l)}s.appendChild(i)}}const R=e=>new Promise(t=>setTimeout(t,e));async function D(e){let t=!1;do{t=!1;for(let o=0;o<e.length;o++)e[o-1]>e[o]&&(t=!0,[e[o-1],e[o]]=[e[o],e[o-1]],c(e,[o-1,o]),await R(m))}while(t);c(e)}function G(e){for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}}const H=e=>new Promise(t=>setTimeout(t,e));async function N(e,t,o){async function s(i,l,a){let d=i[a],r=l-1;for(let f=l;f<=a-1;f++)i[f]<d&&(r++,[i[r],i[f]]=[i[f],i[r]],c(i,[r,f]),await H(m));return[i[r+1],i[a]]=[i[a],i[r+1]],r+1}async function n(i,l,a){if(l<a){let d=await s(i,l,a);await n(i,l,d-1),await n(i,d+1,a)}}await n(e,t,o),c(e)}const Q=e=>new Promise(t=>setTimeout(t,e));async function A(e,t,o){let s,n,i;for(s=t+1;s<=o;s++){for(n=e[s],i=s-1;i>=0&&e[i]>n;)e[i+1]=e[i],c(e,[i+1]),await Q(m),i=i-1;e[i+1]=n}c(e)}const v=e=>new Promise(t=>setTimeout(t,e));async function F(e,t,o,s){const n=o-t+1,i=s-o,l=new Array(n),a=new Array(i);for(let w=0;w<n;w++)l[w]=e[t+w];for(let w=0;w<i;w++)a[w]=e[o+1+w];let d=0,r=0,f=t;for(;d<n&&r<i;)l[d]<=a[r]?(e[f]=l[d],c(e,[f]),d++):(e[f]=a[r],c(e,[f]),r++),await v(m),f++;for(;d<n;)e[f]=l[d],c(e,[f]),await v(m),d++,f++;for(;r<i;)e[f]=a[r],c(e,[f]),await v(m),r++,f++}async function K(e,t,o){async function s(n,i,l){if(i>=l)return;const a=i+Math.floor((l-i)/2);await s(n,i,a),await s(n,a+1,l),await F(n,i,a,l)}await s(e,t,o-1),c(e)}const J=e=>new Promise(t=>setTimeout(t,e));async function U(e,t){async function o(n,i,l){let a=n[i];n[i]=n[l],n[l]=a,c(n,[i,l]),await J(m)}async function s(n,i){let l,a,d;for(l=0;l<i-1;l++){for(d=l,a=l+1;a<i;a++)n[a]<n[d]&&(d=a);await o(n,d,l)}}await s(e,t),c(e)}const W=e=>new Promise(t=>setTimeout(t,e));function X(e,t){return Math.floor(Math.abs(e)/Math.pow(10,t))%10}function Y(e){let t=0;for(let o of e)t<Math.floor(o).toString().length&&(t=Math.floor(o).toString().length);return t}async function Z(e){const t=Y(e);for(let o=0;o<t;o++){let s=Array.from({length:10},()=>[]);for(let n=0;n<e.length;n++)s[X(e[n],o)].push(e[n]),c(e,[n]),await W(m);e=[].concat(...s)}return c(e),e}async function _(e){let t=e.length,o=Array.from({length:t},()=>[]);for(let n=0;n<t;n++){let i=Math.floor(t*e[n]);i=Math.min(i,t-1),o[i].push(e[n])}for(let n=0;n<t;n++)await A(o[n],0,o[n].length-1);let s=0;for(let n=0;n<t;n++)for(let i=0;i<o[n].length;i++)e[s++]=o[n][i];c(e)}const C=e=>new Promise(t=>setTimeout(t,e));async function b(e,t,o){let s=o,n=2*o+1,i=2*o+2;if(n<t&&e[n]>e[s]&&(s=n),i<t&&e[i]>e[s]&&(s=i),s!=o){let l=e[o];e[o]=e[s],e[s]=l,c(e,[o,s]),await C(m),await b(e,t,s)}}async function ee(e){let t=e.length;for(let o=Math.floor(t/2)-1;o>=0;o--)await b(e,t,o);for(let o=t-1;o>0;o--){let s=e[0];e[0]=e[o],e[o]=s,c(e,[0,o]),await C(m),await b(e,o,0)}c(e)}async function te(e){for(let t=0;t<e.length-1;t++)if(e[t]>e[t+1])return!1;return!0}const ne=e=>new Promise(t=>setTimeout(t,e));let y=50,u=[],z="Quicksort",m=50,p=!1,g=!0;function O(){for(let e=1;e<=y;e++)u.push(e)}async function oe(){for(let e=0;e<y;e++)e-1>=0&&e+1<y?c(u,[e-1,e,e+1]):e-1>=0?c(u,[e-1,e]):c(u,[e,e+1]),await ne(y<100?30:m);c(u)}const M=document.getElementById("select-algorithm"),h=document.querySelector(".algorithm-options"),ie=document.getElementById("size-slider"),T=document.getElementById("visualize-btn"),se=document.getElementById("shuffle-btn"),le=document.getElementById("speed-slider"),E=document.querySelector(".speaker-btn-on"),I=document.querySelector(".speaker-btn-off");M.addEventListener("click",function(e){h.classList.toggle("show"),e.stopPropagation()});h.querySelectorAll("div").forEach(function(e){e.addEventListener("click",function(){M.querySelector("p").textContent=e.textContent,z=e.textContent,T.textContent=`Visualize ${e.textContent}`,h.classList.remove("show")})});document.addEventListener("click",function(e){let t=e.target;!(h.contains(t)||M.contains(t))&&h.classList.contains("show")&&h.classList.remove("show")});E.addEventListener("click",function(){g?g=!1:g=!0,E.classList.toggle("hidden"),I.classList.toggle("hidden")});I.addEventListener("click",function(){g?g=!1:g=!0,I.classList.toggle("hidden"),E.classList.toggle("hidden")});function P(e){const t=document.getElementById("size-slider");t.disabled=e}ie.addEventListener("input",function(){if(!p){const e=parseInt(this.value);document.getElementById("size-value").textContent=e,y=e,u=[],O(),c(u)}});le.addEventListener("input",function(){const e=parseInt(this.value);document.getElementById("speed-value").textContent=e+"ms",m=e});T.addEventListener("click",async function(){if(p)return;if(p=!0,P(!0),!await te(u))switch(z){case"Quicksort":await N(u,0,y-1);break;case"Bubble Sort":await D(u);break;case"Insertion Sort":await A(u,0,y-1);break;case"Merge Sort":await K(u,0,y);break;case"Selection Sort":await U(u,y);break;case"Radix Sort":let t=await Z(u);u=[],u=[...t];break;case"Bucket Sort":await _(u);break;case"Heap Sort":await ee(u);break;default:return}await oe(),p=!1,P(!1)});se.addEventListener("click",function(){p||(G(u),c(u))});O();c(u);
